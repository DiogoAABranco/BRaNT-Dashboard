(this["webpackJsonpbrant-dashboard"]=this["webpackJsonpbrant-dashboard"]||[]).push([[0],{540:function(e,a,t){e.exports=t(745)},741:function(e,a,t){},742:function(e,a,t){},743:function(e,a,t){},744:function(e,a,t){},745:function(e,a,t){"use strict";t.r(a);var n=t(8),l=t(0),r=t.n(l),o=t(29),c=t.n(o),i=t(321),s="https://brant-api.herokuapp.com/api/",m=t(795),d=Object(l.createContext)(null),u=new m.a(JSON.parse(localStorage.getItem("currentUser"))),p=u.asObservable(),b=function(){return null!==v()&&null!==p},v=function(){return localStorage.getItem("token")},f=function(){return JSON.parse(localStorage.getItem("currentUser"))},h=function(){return new Headers({Authorization:"Bearer "+v(),"Content-Type":"application/json"})},E=t(45),g=t(83),N=t(84),j=t(86),y=t(87),O=(l.Component,t(25)),S=[{name:"Utentes",children:[{name:"Novo Utente",url:"/dashboard/create-patient"},{name:"Lista de Utentes",url:"/dashboard/patients"}]},{name:"Programas de treino",children:[{name:"Programas ativos",url:"/dashboard/programs"},{name:"Programas finalizados",url:"/dashboard/programs-complete"}]},{name:"Atividades",children:[{name:"Lista de atividades",url:"/dashboard/games"}]},{name:"Ferramentas de avalia\xe7\xe3o",children:[{name:"Lista das Ferramentas",url:"/dashboard/assessment-tools"}]}],C=[{name:"Utentes",children:[{name:"Novo Utente",url:"/dashboard/create-patient"},{name:"Lista de Utentes",url:"/dashboard/patients"}]},{name:"Programas de treino",children:[{name:"Programas ativos",url:"/dashboard/programs"},{name:"Programas finalizados",url:"/dashboard/programs-complete"}]},{name:"Atividades",children:[{name:"Lista de atividades",url:"/dashboard/games"}]},{name:"Ferramentas de avalia\xe7\xe3o",children:[{name:"Nova Ferramenta",url:"/dashboard/new-assessment"},{name:"Lista das Ferramentas",url:"/dashboard/assessment-tools"}]},{name:"Utilizadores",children:[{name:"Novo Utilizador",url:"/dashboard/register"},{name:"Lista de Utilizadores",url:"/dashboard/users"}]}];var x=function(e){var a=Object(l.useState)(p.source.value),t=Object(n.a)(a,2),o=t[0],c=(t[1],Object(l.useState)(!0)),i=Object(n.a)(c,2),s=(i[0],i[1],Object(l.useContext)(d)),m=(s.userContext,s.setUserContext);return Object(l.useEffect)((function(){return m(p.source.value),function(){return m(null)}}),[]),r.a.createElement("div",{className:"bg-light border-right",id:"sidebar-wrapper"},r.a.createElement("div",{className:"sidebar-heading"},r.a.createElement("img",Object(E.a)({src:"../Images/BRaNT_LOGO.PNG",alt:"",className:"logo"},"className","navbar-brand"))),r.a.createElement("ul",{className:"list-group list-group-flush"},"admin"===o.role.name?C.map((function(e){return r.a.createElement("div",{key:e.name},e.children?r.a.createElement("div",null,r.a.createElement("li",{className:"list-group-item list-group-item-actions sb-item-border bg-light pl-2 pt-3"},r.a.createElement("b",null,e.name)),e.children.map((function(e){return r.a.createElement(O.c,{key:e.name,activeClassName:"active",to:e.url},r.a.createElement("li",{className:"list-group-item list-group-item-action bg-light pl-5"},e.name))}))," "):r.a.createElement(O.c,{activeClassName:"active",to:e.url},r.a.createElement("li",{className:"list-group-item list-group-item-action bg-light"},e.name)))})):S.map((function(e){return r.a.createElement("div",{key:e.name},e.children?r.a.createElement("div",null,r.a.createElement("li",{className:"list-group-item list-group-item-actions sb-item-border bg-light pl-2 pt-3"},r.a.createElement("b",null,e.name)),e.children.map((function(e){return r.a.createElement(O.c,{key:e.name,activeClassName:"active",to:e.url},r.a.createElement("li",{className:"list-group-item list-group-item-action bg-light pl-5"},e.name))}))," "):r.a.createElement(O.c,{activeClassName:"active",to:e.url},r.a.createElement("li",{className:"list-group-item list-group-item-action bg-light"},e.name)))}))))},w=t(134);var k=Object(w.h)((function(e){var a=Object(l.useContext)(d),t=a.userContext;return a.setUserContext,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bottom-shadow"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto mt-2 mt-lg-0 mr-2"},null!=t?r.a.createElement("li",{className:"nav-item nav-link"},"Seja bem-vindo, "+t.name):null,r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"navbarDropdown"},r.a.createElement("a",{className:"dropdown-item",href:""},"Defini\xe7\xf5es"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("span",{className:"dropdown-item hoverable",onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("currentUser"),u.next(null),console.log("logout"),e.history.push("/auth/login")}},"Logout"))))))})),_=t(809);var T=function(e){return r.a.createElement("div",{className:""},r.a.createElement("h6",{className:"text-brant-color pl-2 pt-2"},e.sectionTitle))},P=t(63),A=t.n(P),D=function(e){Object(y.a)(t,e);var a=Object(j.a)(t);function t(e){var n;return Object(g.a)(this,t),(n=a.call(this,e)).abortController=new AbortController,n.searchSpace=function(e){var a=e.target.value;n.setState({searchName:a})},n.setValueRangeSlider=function(e){var a=e.target.value;n.setState({valueRangeSlider:a})},n.handleChangeSlider=function(e,a){n.setState({valueRangeSlider:a})},n.getAge=function(e){var a=new Date(e),t=new Date-a;return Math.floor(t/31536e6)},n.prepareTable=function(){var e=[];n.state.users.forEach((function(a){var t=a.id,l=n.getAge(a.sociodemographic_data.date_of_birth),r={id:t,name:a.name,address:a.address,age:l};e.push(r)})),n.setState({usersTable:e})},n.state={users:[],searchName:"",valueRangeSlider:[0,100],usersTable:[]},n}return Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(s,"patients"),{headers:h()},{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(a){e.setState({users:a}),console.log("patientsAPI",e.state.users),e.prepareTable()})).catch(console.log)}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"valuetext",value:function(e){return"".concat(e)}},{key:"render",value:function(){var e=this,a=this.state.usersTable.filter((function(a){return null==e.state.searchName||a.name.toLowerCase().includes(e.state.searchName.toLowerCase())?a:void 0})).filter((function(a){return a.age>=e.state.valueRangeSlider[0]&&a.age<=e.state.valueRangeSlider[1]}));return r.a.createElement("div",{className:"container-fluid mt-2"},r.a.createElement("div",{className:"accordion ml-3 mr-3",id:"accordionExample"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex justify-content-between",id:"headingOne"},r.a.createElement(T,{sectionTitle:"Lista de utentes"}),r.a.createElement(O.b,{to:"/dashboard/create-patient"},r.a.createElement("button",{className:"btn btn-brant-color"},"Novo Utente"))),r.a.createElement("div",{id:"collapseOne",className:"collapse show","aria-labelledby":"headingOne","data-parent":"#accordionExample"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"pl-4 pr-4 pt-2"},r.a.createElement("label",{className:"text-brant-color"},"Nome"),r.a.createElement("input",{type:"name",onChange:function(a){return e.searchSpace(a)},className:"form-control",id:"inputName",placeholder:"Enter name"}))),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"pl-4 pr-4 pt-4"},r.a.createElement("label",{className:"text-brant-color"},"Idade"),r.a.createElement("div",{className:"w-50 mt-4"},r.a.createElement(_.a,Object(E.a)({value:this.state.valueRangeSlider,onChange:this.handleChangeSlider,valueLabelDisplay:"auto","aria-labelledby":"range-slider",getAriaValueText:this.valuetext},"valueLabelDisplay","on")))))),r.a.createElement("div",null,r.a.createElement(A.a,{options:{search:!1,paging:!0,showTitle:!1,header:!0,headerStyle:{fontWeight:900,fontSize:16,color:"rgb(78, 36, 50)"}},columns:[{title:"ID",field:"id"},{title:"Nome",field:"name"},{title:"Morada",field:"address"},{title:"Idade",field:"age"}],data:a,onRowClick:function(a,t){return e.props.history.push("patients/patient-information/".concat(t.id,"/0"))},localization:{pagination:{labelRowsSelect:"linhas",labelDisplayedRows:"{count} de {from}-{to}",firstTooltip:"Primeira p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina"}}}))))))}}]),t}(l.Component),I=t(144),V=t(42);var z=function(e){return r.a.createElement("div",{className:""},r.a.createElement("h4",{className:"text-brant-color pl-2"},e.sectionTitle))},R=t(304),F=t(457),U=t(498);var L=function(e){var a=Object(l.useState)(""),t=Object(n.a)(a,2),o=t[0],c=t[1],i=Object(l.useState)(""),m=Object(n.a)(i,2),d=m[0],u=m[1],p=Object(l.useState)({name:"",description:"",domains:"",subdomains:""}),b=Object(n.a)(p,2),v=b[0],f=b[1],E=Object(l.useState)([]),g=Object(n.a)(E,2),N=g[0],j=g[1],y=Object(l.useState)(""),O=Object(n.a)(y,2),S=O[0],C=O[1],x=Object(l.useState)({name:"",minValue:0,maxValue:0,stateValues:!1}),w=Object(n.a)(x,2),k=w[0],_=w[1],P={id:0,name:S,val:0,submodules:[]};void 0!==N&&N.length>0&&(P={id:N[N.length-1].id+1,name:S,val:0,submodules:[]});var A=Object(l.useState)(""),D=Object(n.a)(A,2),L=D[0],W=D[1],B=Object(l.useState)(""),M=Object(n.a)(B,2),G=M[0],J=M[1],q={id:0,name:k.name,maxValue:k.maxValue,minValue:k.minValue,stateValues:k.stateValues};void 0!==L.submodules&&L.submodules.length>0&&(q={id:L.submodules[L.submodules.length-1].id+1,name:k.name,minValue:k.minValue,maxValue:k.maxValue,stateValues:k.stateValues},console.log(q));var H=function(e){"name"===e.target.name&&_(Object(V.a)({},k,{name:e.target.value})),"minValue"===e.target.name&&_(Object(V.a)({},k,{minValue:parseInt(e.target.value),stateValues:!0})),"maxValue"===e.target.name&&_(Object(V.a)({},k,{maxValue:parseInt(e.target.value),stateValues:!0})),"stateValues"===e.target.name&&_(Object(V.a)({},k,{stateValues:e.target.checked}))};return r.a.createElement("div",{className:"container-fluid mt-2"},r.a.createElement(z,{sectionTitle:"Criar novo teste de avalia\xe7\xe3o"}),r.a.createElement("div",{className:"row pb-4"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"pt-2"},r.a.createElement("label",{className:"text-brant-color"},"Nome do teste"),r.a.createElement("input",{type:"name",className:""!==v.name?"form-control is-invalid":"form-control",id:"inputName",value:o,onChange:function(e){return c(e.target.value)},placeholder:"Inserir nome"}),""!==v.name?r.a.createElement("div",{className:"invalid-tooltip"},v.name):null)),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"pt-2"},r.a.createElement("label",{className:"text-brant-color"},"Descri\xe7\xe3o"),r.a.createElement("textarea",{type:"name",className:""!==v.description?"form-control is-invalid":"form-control",id:"inputDescription",value:d,onChange:function(e){return u(e.target.value)},placeholder:"Inserir descri\xe7\xe3o"}),""!==v.description?r.a.createElement("div",{className:"invalid-tooltip"},v.description):null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement(T,{sectionTitle:"M\xf3dulos"}),r.a.createElement("input",{type:"name",className:""!==v.domains?"form-control w-80 is-invalid":"form-control w-80",id:"inputName",value:S,onChange:function(e){C(e.target.value)},placeholder:"Inserir novo m\xf3dulo"}),""!==v.domains?r.a.createElement("div",{className:"invalid-tooltip"},v.domains):null,r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mx-auto pt-4"},r.a.createElement("button",{onClick:function(){""!==P.name&&j([].concat(Object(I.a)(N),[P])),C(""),W(P)},className:"btn btn-brant-color mt-2"},"Adicionar"),r.a.createElement("button",{className:"btn btn-outline-danger ml-4 mt-2",onClick:function(){j(N.filter((function(e){return e.id!=L.id}))),W("")}},"Eliminar"))))),r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("ul",{className:"list-group list-group-flush"},void 0!==N&&""!==L.name?N.map((function(e){return r.a.createElement("li",{key:e.id,onClick:function(){W(e)},className:e.id===L.id?"list-group-item list-group-item-brant-color list-group-item-action active":"list-group-item list-group-item-brant-color list-group-item-action"},e.name)})):null)))),r.a.createElement("div",{className:N.length>0?"col-sm-6":"col-sm-6 invisible"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},void 0!==L.name&&""!==L.name?r.a.createElement(T,{sectionTitle:"Subm\xf3dulos: "+L.name}):r.a.createElement(T,{sectionTitle:"Subm\xf3dulos - escolher m\xf3dulo a editar"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{type:"name",name:"name",className:""!==v.subdomains?"form-control w-80 is-invalid":"form-control w-80",id:"inputSubdomain",value:k.name,onChange:H,placeholder:"Inserir novo sub m\xf3dulo",required:!0}),""!==v.subdomains?r.a.createElement("div",{className:"invalid-tooltip"},v.subdomains):null),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(F.a,{control:r.a.createElement(U.a,{checked:k.stateValues,name:"stateValues",onChange:H,value:!0,color:"primary"}),label:"Incluir valor m\xednimo e m\xe1ximo"}))),k.stateValues?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(R.a,{id:"standard-basic",className:"mx-auto",name:"minValue",type:"number",label:"Valor m\xednimo",value:k.minValue,onChange:H})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(R.a,{id:"standard-basic",className:"mx-auto",name:"maxValue",type:"number",label:"Valor m\xe1ximo",value:k.maxValue,onChange:H}))):null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mx-auto pt-2"},r.a.createElement("button",{onClick:function(){var e,a=L;console.log(q),""===q.name||null===q.name||""===L?(e="Imposs\xedvel adicionar subm\xf3dulo!",f(Object(V.a)({},v,{subdomains:e}))):(e="",f(Object(V.a)({},v,{subdomains:e})),a.submodules.push(q),W(a),console.log(L)),_(Object(V.a)({},k,{name:"",minValue:0,maxValue:0,stateValues:!1}))},className:"btn btn-brant-color mt-2"},"Adicionar"),r.a.createElement("button",{className:"btn btn-outline-danger ml-4 mt-2",onClick:function(){var e=L;e.submodules=L.submodules.filter((function(e){return e.id!=G.id})),W(e),J("")}},"Eliminar")))),r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("ul",{className:"list-group list-group-flush"},void 0!==L.submodules&&L.submodules.length>0?L.submodules.map((function(e){return r.a.createElement("li",{key:e.id,onClick:function(){J(e)},className:e.id===G.id?"list-group-item list-group-item-brant-color list-group-item-action active":"list-group-item list-group-item-brant-color list-group-item-action"},e.name)})):null))))),r.a.createElement("div",{className:"container d-flex justify-content-center mt-4"},r.a.createElement("button",{onClick:function(a){if(a.preventDefault(),o.length<2?v.name="Preencher nome da ferramenta de avalia\xe7\xe3o":v.name="",d.length<2?v.description="Preencher descri\xe7\xe3o da ferramenta de avalia\xe7\xe3o":v.description="",N.length<1?v.domains="Adicionar m\xf3dulos \xe0 ferramenta de avalia\xe7\xe3o":v.domains="",f(Object(V.a)({},v,{name:v.name,description:v.description,domains:v.domains})),""===v.name&&""===v.description&&""===v.domains){var t={name:o,description:d,modules:N};console.log(JSON.stringify(t)),fetch("".concat(s,"assessment-tools"),{method:"POST",body:JSON.stringify(t),headers:h()}).then((function(e){return 201==e.status?console.log("teste adicionado"):(console.log("teste invalido"),c(""),u(""),j([]),W([]),J([])),e})).then((function(e){return e.json()})).then((function(a){console.log("API success: ",a),e.history.push("/dashboard/assessment-tools")})).catch((function(e){return console.log("API err: ",e),c(""),u(""),j([]),W([]),J([]),e})),console.log("teste: "+t)}},className:"btn btn-brant-color"},"Submeter")))},W=t(374),B=t(511),M=t.n(B),G=t(512),J=t.n(G),q=function(e){var a=new FormData;return a.append("email",e.email),a.append("password",e.password),fetch("".concat(s,"login"),{body:a,method:"post"}).then((function(e){return e.json()})).then((function(e){return console.log(e),!!e.success&&(a=e.success,localStorage.setItem("token",a.token),u.next(a.user),localStorage.setItem("currentUser",JSON.stringify(a.user)),e.success.user);var a})).catch(console.log)},H=t(786),K=t(231),Q=t(510),X=t.n(Q);function Y(e){var a,t=e.open,n=e.setOpen,l=e.data,o=function(e,a){"clickaway"!==a&&n(!1)};return r.a.createElement("div",null,r.a.createElement(H.a,(a={anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,autoHideDuration:6e3,onClose:o,message:l},Object(E.a)(a,"anchorOrigin",{vertical:"top",horizontal:"center"}),Object(E.a)(a,"key","topcenter"),Object(E.a)(a,"action",r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{size:"small","aria-label":"close",color:"inherit",onClick:o},r.a.createElement(X.a,{fontSize:"small"})))),a)))}function Z(e){var a=Object(l.useState)({email:"",password:""}),t=Object(n.a)(a,2),o=t[0],c=t[1],i=Object(l.useState)(!1),s=Object(n.a)(i,2),m=s[0],d=s[1],u=Object(l.useState)(!1),p=Object(n.a)(u,2),b=p[0],v=p[1],f=function(e){c(Object(V.a)({},o,Object(E.a)({},e.target.name,e.target.value)))};return onsubmit=function(a){a.preventDefault(),v(!0);var t={email:o.email,password:o.password};q(t).then((function(a){!1!==a?(console.log("login: ",a),e.history.push("/dashboard/patients")):(console.log("Credenciais incorretas"),d(!0),v(!1))}))},r.a.createElement("div",{className:"container vh-100 "},r.a.createElement(Y,{open:m,setOpen:d,data:"Credenciais de login incorretas"}),r.a.createElement("div",{className:"row pt-4 mt-2s"},r.a.createElement("div",{className:"col-sm-9 col-md-7 col-lg-5 mx-auto"},r.a.createElement("div",{className:"card mt-5"},r.a.createElement("div",{className:"container mx-auto my-4 text-center"},r.a.createElement("img",{src:"../../Images/BRaNT_LOGO.PNG",alt:"",className:"img-thumbnail rounded mx-auto"})),r.a.createElement("h5",{className:"card-title text-brant-color mx-auto my-4"},"Iniciar Sess\xe3o"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{action:"",onSubmit:onsubmit,className:"text-center"},r.a.createElement("div",{className:"input-group pb-4"},r.a.createElement(R.a,{name:"email",style:{width:"100%"},onChange:f,value:o.email,id:"outlined-basic",label:"Email",variant:"outlined",InputProps:{startAdornment:r.a.createElement(W.a,{position:"start"},r.a.createElement(M.a,{color:"primary"}))}})),r.a.createElement("div",{className:"input-group pb-1"},r.a.createElement(R.a,{name:"password",style:{width:"100%"},onChange:f,value:o.password,type:"password",id:"outlined-basic",label:"Palavra-passe",variant:"outlined",InputProps:{startAdornment:r.a.createElement(W.a,{position:"start"},r.a.createElement(J.a,{color:"primary"}))}})),r.a.createElement("div",{className:"container mx-auto py-4"},r.a.createElement("button",{type:"submit",className:"btn btn-brant-color w-50 p-2",disabled:b},"Login"))))))))}var $=t(378),ee=t(373),ae=t(436),te=t(372);function ne(e){var a=Object(l.useState)([]),t=Object(n.a)(a,2),o=t[0],c=t[1],i=Object(l.useState)(""),m=Object(n.a)(i,2),d=m[0],u=m[1],p=Object(l.useState)({name:"",email:"",password:"",c_password:"",role_id:0}),b=Object(n.a)(p,2),v=b[0],f=b[1],g=Object(l.useState)({state:!1,content:""}),N=Object(n.a)(g,2),j=N[0],y=N[1];Object(l.useEffect)((function(){var e=new AbortController,a=e.signal;return fetch("".concat(s,"roles"),{headers:h()},{signal:a}).then((function(e){return e.json()})).then((function(e){c(e)})).catch(console.log),function(){return e.abort()}}),[]);var O=function(e){f(Object(V.a)({},v,Object(E.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"container vh-100 "},r.a.createElement(Y,{open:j.state,setOpen:function(e){y(Object(V.a)({},j,{state:e}))},data:j.content}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-9 col-md-7 col-lg-5 mx-auto"},r.a.createElement("div",{className:"card mt-5"},r.a.createElement("h5",{className:"card-title text-brant-color mx-auto my-4"},"Registar utilizador"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{action:"",onSubmit:function(a){if(a.preventDefault(),(v.password===v.c_password||(y({state:!0,content:"Palavras-passe n\xe3o coincidem"}),0))&&(0!==v.role_id||(y({state:!0,content:"Selecionar o tipo de utilizador"}),0))){console.log(v);var t={name:v.name,email:v.email,password:v.password,c_password:v.c_password,role_id:v.role_id};fetch("".concat(s,"register"),{headers:h(),body:JSON.stringify(t),method:"post"}).then((function(e){return e.json()})).then((function(a){if(console.log(a),void 0===a.success)return void 0!==a.error&&(null!==a.error.email?y({state:!0,content:"Email inserido j\xe1 \xe9 utilizado"}):y({state:!0,content:"N\xe3o foi poss\xedvel registar o utilizador. Tentar novamente"})),!1;"success"===a.success.msg&&e.history.push("/dashboard/users")}))}},className:""},r.a.createElement("div",{className:"form-group pb-2"},r.a.createElement("label",{className:"text-brant-color"},"Nome"),r.a.createElement("input",{type:"text",name:"name",className:"form-control",id:"formGroupName",placeholder:"Nome",onChange:O,required:!0})),r.a.createElement("div",{className:"form-group pb-2"},r.a.createElement("label",{className:"text-brant-color"},"Email"),r.a.createElement("input",{type:"email",className:"form-control",name:"email",id:"formGroupEmail",placeholder:"Email",onChange:O,required:!0})),r.a.createElement("div",{className:"form-group pb-2"},r.a.createElement("label",{className:"text-brant-color"},"Palavra-passe"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",id:"formGroupPassword",placeholder:"Palavra-passe",onChange:O,required:!0}),r.a.createElement("input",{type:"password",className:"form-control mt-3",name:"c_password",id:"formGroupPasswordValidate",placeholder:"Confirmar palavra-passe",onChange:O,required:!0})),r.a.createElement(te.a,{className:"w-100"},r.a.createElement(ee.a,{id:"demo-controlled-open-select-label"},"Fun\xe7\xe3o"),r.a.createElement($.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,onChange:function(e){u(e.target.value),f(Object(V.a)({},v,{role_id:e.target.value.id}))}},o.map((function(e,a){return r.a.createElement(ae.a,{key:e.id,value:e},e.name)})))),r.a.createElement("div",{className:"container mx-auto py-4 text-center"},r.a.createElement("button",{type:"submit",className:"btn btn-brant-color w-50 p-2"},"Registar"))))))))}function le(){return r.a.createElement("div",null)}function re(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"container mx-auto"},r.a.createElement(z,{sectionTitle:"P\xe1gina n\xe3o encontrada!!!"}),r.a.createElement("div",{className:"row mx-auto"},r.a.createElement("div",{className:"col-md-12 mx-auto"},r.a.createElement("button",{className:"btn btn-brant-color",onClick:function(){e.history.goBack()}},"Voltar")))))}function oe(e){var a=e.data;return r.a.createElement(A.a,{columns:[{title:"Data de in\xedcio",field:"start_date",defaultSort:"desc"},{title:"Nome",field:"patient.name"},{title:"N\xfamero de sess\xf5es",field:"n_sessions"},{title:"Estado",field:"isActive",render:function(e){return 0===e.isActive?"Inativo":"Ativo"}}],data:a,onRowClick:function(a,t){return e.goTo(t.id)},options:{search:!0,sorting:!0,paging:!0,showTitle:!1,header:!0,headerStyle:{fontWeight:900,fontSize:16,color:"rgb(78, 36, 50)"}},localization:{toolbar:{searchTooltip:"Procurar",searchPlaceholder:"Procurar"},pagination:{labelRowsSelect:"linhas",labelDisplayedRows:"{count} de {from}-{to}",firstTooltip:"Primeira p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina"}}})}var ce=function(e){Object(y.a)(t,e);var a=Object(j.a)(t);function t(e){var n;return Object(g.a)(this,t),(n=a.call(this,e)).abortController=new AbortController,n.state={programs:[]},n}return Object(N.a)(t,[{key:"handleApiCall",value:function(){var e=this;fetch("".concat(s,"training-program"),{headers:h()},{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(a){var t=[];a.forEach((function(e){0!==e.isActive&&!1!==e.isActive||t.push(e)})),e.setState({programs:t})}))}},{key:"componentDidMount",value:function(){this.handleApiCall()}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"p-2 d-flex justify-content-between"},r.a.createElement(z,{sectionTitle:"Programas de treino finalizados"})),r.a.createElement("div",{className:"row p-0 m-0"},r.a.createElement("div",{className:"col-sm-12 p-2"},r.a.createElement(oe,{data:this.state.programs,goTo:function(a){e.props.history.push("/dashboard/programs-complete/view-detailed-program/".concat(a))}}))))}}]),t}(l.Component),ie=t(103),se=t(175),me=t(757),de=t(760),ue=t(759),pe=t(785),be=t(765),ve=t(28),fe=t(196),he=t.n(fe),Ee=function(e){var a=r.a.useState(!1),t=Object(n.a)(a,2),o=t[0],c=t[1],i=Object(l.useState)(e.game_variable_type),s=Object(n.a)(i,2),m=s[0],d=s[1],u=Object(l.useState)(e.game_variable_type),p=Object(n.a)(u,2),b=(p[0],p[1],Object(ve.a)()),v=Object(be.a)(b.breakpoints.down("sm")),f=function(){c(!1)},h=function(e){return function(a){var t=Object(I.a)(m);t[e].value=a.target.value,d(t)}};return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-outline-brant-color",onClick:function(){c(!0)}},r.a.createElement(he.a,null)),r.a.createElement(me.a,{fullScreen:v,open:o,onClose:f,"aria-labelledby":"responsive-dialog-title"},r.a.createElement(pe.a,{id:"responsive-dialog-title"},e.activityName+" - Par\xe2metros"),r.a.createElement(ue.a,null,m.map((function(e,a){return r.a.createElement("div",{key:e.id,className:"row"},r.a.createElement(R.a,{required:!0,id:"standard-basic",label:e.name,name:e.name,value:e.value,onChange:h(a)}))}))),r.a.createElement(de.a,null,r.a.createElement(se.a,{onClick:f,color:"primary",autoFocus:!0},"Fechar"))))},ge=t(94),Ne=t(790),je=t(787),ye=t(788),Oe=t(789),Se=Object(ge.a)((function(e){return{root:{width:"100%"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)}}}));function Ce(e){var a=Se(),t=r.a.useState(0),l=Object(n.a)(t,2),o=l[0],c=l[1],i=r.a.useState(e.gameVariables),s=Object(n.a)(i,2),m=s[0],d=s[1],u=function(){c((function(e){return e+1}))},p=function(){c((function(e){return e-1}))},b=function(e){return function(a){console.log(e);var t=Object(I.a)(m);t[e].value=a.target.value,d(t)}};return r.a.createElement("div",{className:a.root},r.a.createElement(Ne.a,{activeStep:o,orientation:"vertical"},m.map((function(t,n){if(0===n||t.game_id!==m[n-1].game_id)return r.a.createElement(je.a,{key:t.id},r.a.createElement(ye.a,null,t.game.name),r.a.createElement(Oe.a,null,m.map((function(e,a){return r.a.createElement("div",{key:e.id,className:"row"},e.game_id===t.game_id?r.a.createElement(R.a,{required:!0,id:"standard-basic",label:e.name,value:e.value,onChange:b(a)}):null)})),r.a.createElement("div",{className:a.actionsContainer},r.a.createElement("div",null,r.a.createElement(se.a,{disabled:0===o,onClick:p,className:a.button},"Voltar"),r.a.createElement(se.a,{variant:"contained",color:"primary",onClick:u,className:a.button},o===e.gameVariables.length-1?"Terminar":"Pr\xf3ximo")))))}))))}var xe=t(513),we=t.n(xe),ke=t(5),_e=t(437),Te=Object(ke.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}}))(_e.a),Pe=function(e){var a=Object(l.useState)(e.games),t=Object(n.a)(a,2),o=t[0];t[1];return 0!=o.lentgh?(console.log(e),r.a.createElement("div",{className:"mt-4"},r.a.createElement(Te,{interactive:!0,arrow:!0,placement:"top",title:r.a.createElement("div",null,r.a.createElement("p",null,e.data.description),r.a.createElement(T,{sectionTitle:"Dom\xednios/Subdom\xednios alvo"}),r.a.createElement("ul",{className:"list-group px-4"},e.data.profileByDomain.map((function(e){return r.a.createElement("li",{className:"text-secondary",key:e.id},e.name)}))))},r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement(we.a,null)),r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement(T,{sectionTitle:e.data.name})))))):r.a.createElement("div",null)},Ae=t(514),De=t.n(Ae),Ie=t(375),Ve=t.n(Ie),ze=t(500);function Re(e){var a=e.games,t=e.addNewActivities,l=r.a.useState(!1),o=Object(n.a)(l,2),c=o[0],i=o[1],s=r.a.useState([]),m=Object(n.a)(s,2),d=m[0],u=m[1],p=r.a.useState([]),b=Object(n.a)(p,2),v=(b[0],b[1],function(){i(!1)}),f=function(e){u(Object(V.a)({},d,Object(E.a)({},e.target.name,e.target.checked)))};return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-brant-color",onClick:function(){i(!0)}},r.a.createElement(Ve.a,null)),r.a.createElement(me.a,{open:c,onClose:v,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(pe.a,{id:"alert-dialog-title",className:"text-brant-color"},"Actividades"),r.a.createElement(ue.a,null,r.a.createElement("div",{className:"container"},a.map((function(e){return r.a.createElement("div",{key:e.id,className:"row bg-light-games mb-4"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(F.a,{control:r.a.createElement(U.a,{color:"primary",name:e.id+"",onChange:f}),label:e.name+" - "+e.description})),r.a.createElement("div",{className:"row pb-4 pl-5"},e.profileByDomain.map((function(e){return r.a.createElement("span",{key:e.id,className:"mr-2"},r.a.createElement(ze.a,{size:"small",color:"primary",label:e.name}))}))))})))),r.a.createElement(de.a,null,r.a.createElement(se.a,{onClick:v,color:"primary"},"Cancelar"),r.a.createElement(se.a,{onClick:function(){i(!1);var e=[];Object.keys(d).forEach((function(a,t){console.log(a),!0===d[a]&&e.push(a)})),t(e)},color:"primary",autoFocus:!0},"Adicionar Actividades"))))}var Fe=function(e){return r.a.createElement("div",{className:"card "},r.a.createElement("div",{className:"card-header d-flex justify-content-between p-1"},r.a.createElement(T,{sectionTitle:"Atividades recomendadas"}),r.a.createElement("div",{className:"row p-0 m-0"},r.a.createElement(Re,{games:e.games,addNewActivities:e.addNewActivities}))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},e.state.activities.map((function(a){return r.a.createElement("div",{key:a.id,className:"col-sm-2"},r.a.createElement(Pe,{data:a,games:e.games}),r.a.createElement("div",{className:"row justify-content-md-center"},void 0!==a.game_variable_type?r.a.createElement("div",{className:"mr-2"},r.a.createElement(Ee,{activityName:a.name,game_variable_type:a.game_variable_type})):null,r.a.createElement("button",{onClick:function(t){return e.onClickRemoveActivity(t,a)},className:"btn btn-brant-color ml-2"},r.a.createElement(De.a,null))))})))))},Ue=t(169),Le=t(35),We=t(349);function Be(e){return r.a.createElement("div",{className:"container-fluid card mb-2 mt-4 mr-0 p-0"},r.a.createElement("div",{className:"row m-0 align-items-center"},r.a.createElement("div",{className:"col-sm-4 text-center"},r.a.createElement(T,{sectionTitle:"Introduzir data de in\xedcio do plano"}),r.a.createElement(Le.a,{utils:Ue.default},r.a.createElement(We.b,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Data de in\xedcio",value:e.startDate,onChange:e.handleChangeStartDate,KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement("div",{className:"col-sm-4 text-center"},r.a.createElement(T,{sectionTitle:"N\xfamero de sess\xf5es"}),r.a.createElement(R.a,{id:"standard-basic",label:"",type:"number",onChange:e.handleChangenSessions})),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement(T,{sectionTitle:"Dias das sess\xf5es"})),r.a.createElement("div",{className:"row justify-content-md-center"},e.daysSelectBox.map((function(a){return r.a.createElement("div",{className:"col-sm-6",key:a.id},r.a.createElement(F.a,{value:a.id,control:r.a.createElement(U.a,{color:"primary"}),label:a.value,labelPlacement:"end",onChange:e.handleChangeCheckBox}))}))))))}var Me=t(784);function Ge(e){var a=e.title,t=e.information,l=e.link,o=r.a.useState(!0),c=Object(n.a)(o,2),i=c[0],s=c[1];return r.a.createElement("div",null,r.a.createElement(me.a,{open:i,onClose:function(){s(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(pe.a,{id:"form-dialog-title"},a),r.a.createElement(ue.a,null,r.a.createElement(Me.a,null,t)),r.a.createElement(de.a,null,r.a.createElement(se.a,{color:"primary"},r.a.createElement(O.b,{to:l},"OK")))))}var Je=t(807),qe=t(65),He=function(e){Object(y.a)(t,e);var a=Object(j.a)(t);function t(e){var n;return Object(g.a)(this,t),(n=a.call(this,e)).abortController=new AbortController,n.handleSubmit=function(){if(0==n.state.daysOfTheWeek.length)return alert("Definir dia/s das sess\xf5es");if(0==n.state.nSessions)return alert("Definir n\xfamero de sess\xf5es");var e={patient_id:n.state.patientID,user_id:1,games:n.state.activities,start_date:n.state.startDate.toISOString().toString().split("T")[0],n_sessions:n.state.nSessions,days_of_the_week:n.state.daysOfTheWeek};console.log(e),fetch("".concat(s,"training-program"),{method:"POST",body:JSON.stringify(e),headers:h()}).then((function(e){return e})).then((function(e){return e.json()})).then((function(e){console.log("API success: ",e),n.props.history.push("/dashboard/programs")})).catch((function(e){return console.log(e),e}))},n.handleChangeStartDate=function(e){n.setState({startDate:e})},n.handleChangenSessions=function(e){var a=parseInt(e.target.value);n.setState({nSessions:a})},n.getAllActivities=function(){return fetch("".concat(s,"games"),{headers:h()},{signal:n.abortController.signal}).then((function(e){return e.json()})).then((function(e){n.setState({games:e}),console.log("json",e)})).catch((function(e){console.error("Error:",e)})),function(){return n.abortController.abort()}},n.addNewActivities=function(e){var a=[];e.forEach((function(e){a.push(parseInt(e))})),n.state.activities.forEach((function(e){var t=a.filter((function(a){return a!==e.id}));console.log(t),a=t})),console.log("activitiestoadd: "+a);var t=[];n.state.games.forEach((function(e){a.forEach((function(a){e.id==a&&t.push(e)}))})),console.log(t),t.forEach((function(e){e.game_variable_type.forEach((function(e){e.value=0}))})),console.log(t);var l=n.state.activities;t.forEach((function(e){l.push(e)})),n.setState({activities:l})},n.handleSliderChange=function(e,a){n.setState({dificulty:a})},n.handleChangeCheckBox=function(e){var a=n.state.daysSelectBox,t=[];a.forEach((function(a){a.id==e.target.value&&(a.isChecked=e.target.checked),a.isChecked&&t.push(a.id)})),n.setState({daysSelectBox:a}),n.setState({daysOfTheWeek:t})},n.state={patientID:n.props.match.params.id,patientName:n.props.match.params.name,activities:[],dificulty:0,startDate:new Date,nSessions:0,daysOfTheWeek:[],daysSelectBox:[{id:0,value:"Domingo",isChecked:!1},{id:1,value:"Segunda-feira",isChecked:!1},{id:2,value:"Ter\xe7a-feira",isChecked:!1},{id:3,value:"Quarta-feira",isChecked:!1},{id:4,value:"Quinta-feira",isChecked:!1},{id:5,value:"Sexta-feira",isChecked:!1},{id:6,value:"S\xe1bado",isChecked:!1}],programComplete:!1,errorCreatingProgram:!1,games:[]},n.onClickRemoveActivity=n.onClickRemoveActivity.bind(Object(ie.a)(n)),n.handleChangeStartDate=n.handleChangeStartDate.bind(Object(ie.a)(n)),n.handleChangenSessions=n.handleChangenSessions.bind(Object(ie.a)(n)),n.handleChangeCheckBox=n.handleChangeCheckBox.bind(Object(ie.a)(n)),n}return Object(N.a)(t,[{key:"handleApiCall",value:function(){var e=this;return fetch("".concat(s,"patients/").concat(this.state.patientID,"/recommended-games"),{headers:h()},{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(a){console.log(a),e.setState({activities:a})})),function(){return e.abortController.abort()}}},{key:"componentDidMount",value:function(){this.handleApiCall(),this.getAllActivities()}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"onClickRemoveActivity",value:function(e,a){var t=this.state.activities.filter((function(e){return e!==a}));this.setState({activities:t})}},{key:"render",value:function(){return 0!==this.state.activities.length?r.a.createElement("div",null,this.state.programComplete?r.a.createElement(Ge,{title:"Informa\xe7\xe3o",information:"Programa de treino criado para o utente: "+this.state.patientName,link:"/dashboard/programs"}):r.a.createElement("div",null,r.a.createElement(Je.a,{"aria-label":"breadcrumb"},r.a.createElement(O.c,{className:"text-brant-color",to:"/dashboard/patients"},"Utentes"),r.a.createElement(qe.a,{color:"textPrimary"},"Novo plano de treino")),r.a.createElement("div",{className:"pt-2"},r.a.createElement(z,{sectionTitle:"Plano de treino - "+this.state.patientName})),r.a.createElement(Fe,{games:this.state.games,state:this.state,onClickRemoveActivity:this.onClickRemoveActivity,addNewActivities:this.addNewActivities}),r.a.createElement(Be,{startDate:this.state.startDate,daysSelectBox:this.state.daysSelectBox,handleChangeStartDate:this.handleChangeStartDate,handleChangenSessions:this.handleChangenSessions,handleChangeCheckBox:this.handleChangeCheckBox}),r.a.createElement("div",{className:"row justify-content-md-center m-0"},r.a.createElement("button",{className:"btn btn-brant-color",onClick:this.handleSubmit},"Submeter treino"))),this.state.errorCreatingProgram?r.a.createElement(Ge,{title:"Informa\xe7\xe3o",information:"N\xe3o foi poss\xedvel criar o programa de treino para: "+this.state.patientName}):null):r.a.createElement("div",null)}}]),t}(l.Component),Ke=Object(w.h)(He),Qe=function(e){Object(y.a)(t,e);var a=Object(j.a)(t);function t(e){var n;return Object(g.a)(this,t),(n=a.call(this,e)).abortController=new AbortController,n.state={programs:[]},n}return Object(N.a)(t,[{key:"handleApiCall",value:function(){var e=this;fetch("".concat(s,"training-program"),{headers:h()},{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(a){var t=[];a.forEach((function(e){!0!==e.isActive&&1!==e.isActive||t.push(e)})),e.setState({programs:t})}))}},{key:"componentDidUpdate",value:function(){}},{key:"componentDidMount",value:function(){this.handleApiCall()}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"p-2 d-flex justify-content-between"},r.a.createElement(z,{sectionTitle:"Programas de treino ativos"})),r.a.createElement("div",{className:"row p-0 m-0"},r.a.createElement("div",{className:"col-sm-12 p-2"},r.a.createElement(oe,{data:this.state.programs,goTo:function(a){e.props.history.push("/dashboard/programs/view-detailed-program/".concat(a))}}))))}}]),t}(l.Component);function Xe(e){var a=e.title,t=e.value;return r.a.createElement("div",{className:"card text-white bg-brant-color h-100"},r.a.createElement("div",{className:"card-body  d-flex align-content-center"},r.a.createElement("div",{className:"row p-0 m-0 w-100"},r.a.createElement("div",{className:"col-sm-6 d-flex align-items-center"},r.a.createElement("h6",{className:"card-title"},a)),r.a.createElement("div",{className:"col-sm-6 d-flex align-items-center justify-content-center"},r.a.createElement("h3",null,t)))))}function Ye(e){var a=e.value;return r.a.createElement("div",{className:"card text-white bg-brant-color h-100 d-flex align-content-center p-2"},r.a.createElement("div",{className:"row p-2 m-0 d-flex justify-content-center"},r.a.createElement("div",{className:""},r.a.createElement("h6",{className:"card-title"},"Progresso: "+a+"%"," "))),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:a+"%",background:"#73374a",border:"3px solid white"},"aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"})))}function Ze(e){return r.a.createElement("div",{className:"row m-o p-0"},r.a.createElement("div",{className:"col-sm-4 p-4"},r.a.createElement(Xe,{title:"Total de Sess\xf5es",value:e.data.n_sessions})),r.a.createElement("div",{className:"col-sm-4 p-4"},r.a.createElement(Xe,{title:"Data inicial",value:e.data.start_date})),r.a.createElement("div",{className:"col-sm-4 p-4"},r.a.createElement(Ye,{value:function(){var a=0,t=e.data.n_sessions;e.data.sessions.forEach((function(e){e.isDone&&a++}));var n=a/t*100;return n<100?n:100}()})))}var $e=function(e){var a=r.a.useState(!1),t=Object(n.a)(a,2),l=t[0],o=t[1],c=r.a.useState(1),i=Object(n.a)(c,2),m=(i[0],i[1],r.a.useState(e.gameVariables)),d=Object(n.a)(m,2),u=d[0],p=(d[1],Object(ve.a)()),b=Object(be.a)(p.breakpoints.down("sm")),v=function(){o(!1)};return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-brant-color mt-2",onClick:function(){o(!0)}},r.a.createElement(he.a,null),"Par\xe2metros das atividades"),r.a.createElement(me.a,{fullScreen:b,open:l,fullWidth:!0,onClose:v,maxWidth:"sm","aria-labelledby":"responsive-dialog-title"},r.a.createElement(pe.a,{id:"responsive-dialog-title"},r.a.createElement(z,{sectionTitle:"Editar par\xe2metros das atividades"})),r.a.createElement(ue.a,null,r.a.createElement(Ce,{gameVariables:u})),r.a.createElement(de.a,null,r.a.createElement(se.a,{autoFocus:!0,onClick:v,color:"primary"},"Cancelar"),r.a.createElement(se.a,{onClick:function(){o(!1);var e={gameVariables:u};fetch("".concat(s,"game-variables"),{method:"PUT",body:JSON.stringify(e),headers:h()}).then((function(e){return e.json()})).then((function(e){console.log("API success: ",e)})).catch((function(e){return e}))},color:"primary",autoFocus:!0},"Guardar"))))};function ea(e){var a=e.session,t=r.a.useState(!1),l=Object(n.a)(t,2),o=l[0],c=l[1],i=r.a.useState(a),m=Object(n.a)(i,2),d=m[0],u=m[1],p=r.a.useState(!1),b=Object(n.a)(p,2),v=(b[0],b[1],function(){c(!1)});return d?r.a.createElement("div",null,r.a.createElement(se.a,{variant:"outlined",color:"primary",onClick:function(){c(!0)}},"Ver"),r.a.createElement(me.a,{open:o,fullWidth:!0,onClose:v,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("".concat(s,"session"),{method:"PUT",body:JSON.stringify(d),headers:h()}).then((function(e){return e.json()})).then((function(e){console.log("API success: ",e),v()})).catch((function(e){return console.log(e),e}))}},r.a.createElement(pe.a,{id:"alert-dialog-title",className:"text-brant-color"},"Detalhes da sess\xe3o: "+d.date),r.a.createElement(ue.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row pb-4"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("b",null,1==d.isDone?"Estado: Feito":"Estado: Pendente"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h6",null,"Notas"),r.a.createElement("textarea",{className:"form-control form-control-sm border-brant-color w-100",rows:"8",value:d.notes,onChange:function(e){u(Object(V.a)({},d,{notes:e.target.value}))},placeholder:"Inserir notas"}))))),r.a.createElement(de.a,null,r.a.createElement(se.a,{onClick:v,color:"primary"},"Cancelar"),r.a.createElement(se.a,{type:"submit",color:"primary",autoFocus:!0},"Guardar"))))):r.a.createElement("div",null)}function aa(e){var a=Object(l.useState)(e.sessions),t=Object(n.a)(a,2),o=t[0],c=t[1],i=Object(l.useState)(null),m=Object(n.a)(i,2),d=m[0],u=m[1];return r.a.createElement(A.a,Object(E.a)({title:"Sess\xf5es",options:{search:!1,paging:!0,showTitle:!0,header:!0,headerStyle:{fontWeight:900,fontSize:16,color:"rgb(78, 36, 50)"}},columns:[{title:"ID",field:"id",render:function(a){if(null!==a.id)return function(e,a){return"Sess\xe3o "+(a-e[0].id+1)}(e.sessions,a.id)}},{title:"Data",field:"date"},{title:"Estado",field:"isDone",render:function(e){if(null!==e.isDone)return 1==e.isDone?r.a.createElement("p",{className:"text-success"},"Feito"):r.a.createElement("p",{className:"text-danger"},"Pendente")}},{title:"Detalhes",field:"id",render:function(e){if(null!=e.id)return r.a.createElement(ea,{session:e})}}],data:o,onRowClick:function(e,a){return u(a.tableData.id)},localization:{toolbar:{searchTooltip:"Procurar",searchPlaceholder:"Procurar"},pagination:{labelRowsSelect:"linhas",labelDisplayedRows:"{count} de {from}-{to}",firstTooltip:"Primeira p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina"},header:{actions:"Remover"}},actions:[function(a){return{icon:"delete",tooltip:"Eliminar sess\xe3o",onClick:function(a,t){!function(a){window.confirm("Deseja eliminar a sess\xe3o de: "+a.date+"?")&&fetch("".concat(s,"session/").concat(a.id),{method:"DELETE",headers:h()}).then((function(e){return e.json()})).then((function(t){console.log("API success: ",t);var n=o.filter((function(e){return e.id!==a.id}));c(n),e.updateSessions(n),0===n.length&&e.history.push("/dashboard/programs")})).catch((function(e){return console.log(e),e}))}(t)}}}]},"options",{actionsColumnIndex:-1,rowStyle:function(e){return{backgroundColor:d===e.tableData.id?"#EEE":"#FFF"}}}))}function ta(e){var a=e.session;return console.log(a),r.a.createElement("div",{className:"mt-4"},r.a.createElement(T,{sectionTitle:"Actividades"}),r.a.createElement("div",{className:"row p-2 mt-2"},a.games.map((function(e,a){return r.a.createElement("div",{key:e.id,className:"col-md-3"},r.a.createElement("div",{className:"card mt-2"},r.a.createElement("div",{className:"card-header text-brant-color"},r.a.createElement("b",null,e.name)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Descri\xe7\xe3o"),r.a.createElement("p",{className:"card-text"},e.description))))}))))}var na=function(e){Object(y.a)(t,e);var a=Object(j.a)(t);function t(e){var n;return Object(g.a)(this,t),(n=a.call(this,e)).abortController=new AbortController,n.state={patientID:n.props.match.params.id,program:0,change:!0,snackbar:!1,text:""},n.updateSessions=n.updateSessions.bind(Object(ie.a)(n)),n.handleSimulateResults=n.handleSimulateResults.bind(Object(ie.a)(n)),n.handleEndProgram=n.handleEndProgram.bind(Object(ie.a)(n)),n.setSnackbar=n.setSnackbar.bind(Object(ie.a)(n)),n}return Object(N.a)(t,[{key:"componentDidMount",value:function(){this.handleApiCall()}},{key:"handleApiCall",value:function(){var e=this;return fetch("".concat(s,"training-program/").concat(this.state.patientID),{headers:h()},{signal:this.abortController.signal}).then((function(e){return e.json()})).then((function(a){e.setState({program:a,change:!0}),console.log("json",a)})).catch((function(e){console.error("Error:",e)})),function(){return e.abortController.abort()}}},{key:"updateSessions",value:function(e){this.setState((function(a){return Object(V.a)({},a,{program:Object(V.a)({},a.program,{plannedSessions:e,n_sessions:e.length})})}))}},{key:"handleEndProgram",value:function(){var e=this,a=this.state.program;a.isActive=0,this.setState({program:a});var t=new AbortController,n=t.signal;return fetch("".concat(s,"training-program"),{method:"PUT",headers:h(),body:JSON.stringify(this.state.program)},{signal:n}).then((function(e){return e.json()})).then((function(a){"success"==a.msg?e.setState({text:"Programa de treino finalizado",snackbar:!0}):e.setState({text:"Imposs\xedvel finalizar programa de treino",snackbar:!0}),console.log(a)})).catch(console.log),function(){return t.abort()}}},{key:"setSnackbar",value:function(e){this.setState({snackbar:e})}},{key:"handleSimulateResults",value:function(){var e=this,a=new AbortController,t=a.signal;return fetch("".concat(s,"simulate-program/").concat(this.state.program.id),{headers:h()},{signal:t}).then((function(e){return e.json()})).then((function(a){console.log(a),e.handleApiCall()})).catch(console.log),function(){return a.abort()}}},{key:"render",value:function(){var e=this;return 0!==this.state.program&&!0===this.state.change?r.a.createElement("div",{className:"container-fluid"},this.state.snackbar?r.a.createElement(Y,{data:this.state.text,open:this.state.snackbar,setOpen:this.setSnackbar}):null,r.a.createElement("div",{className:"card-header d-flex justify-content-between",id:"headingOne"},r.a.createElement(z,{sectionTitle:"Programa de treino: "+this.state.program.patient.name}),this.state.program.isActive?r.a.createElement("p",{className:"text-success"},"Programa de treino ativo"):r.a.createElement("p",{className:"text-danger"},"Programa de treino inativo")),r.a.createElement(Ze,{data:this.state.program}),r.a.createElement(ta,{session:this.state.program.sessions[this.state.program.sessions.length-1]}),r.a.createElement("div",{className:"row p-0 ml-2 d-flex justify-content-between"},r.a.createElement($e,{gameVariables:this.state.program.game_variables}),r.a.createElement("div",{className:"pt-2 pr-4"},this.state.program.isActive?r.a.createElement("button",{className:"btn btn-brant-color",onClick:this.handleSimulateResults},"Simular Resultados"):null),r.a.createElement("div",{className:"pt-2 pr-4"},this.state.program.isActive?r.a.createElement("button",{className:"btn btn-brant-color",onClick:this.handleEndProgram},"Finalizar Programa"):null),r.a.createElement("div",{className:"pt-2 pr-4"},r.a.createElement("button",{className:"btn btn-brant-color",onClick:function(){e.props.history.push("/dashboard/programs/results/training-program/".concat(e.state.program.id))}},"Resultados"))),r.a.createElement("div",{className:"row p-2 "},r.a.createElement("div",{className:"col-md-12 mt-5"},r.a.createElement(aa,{history:this.props.history,sessions:this.state.program.sessions,updateSessions:this.updateSessions,goTo:function(a){e.props.history.push("/programs/view-detailed-program/".concat(a))}})))):r.a.createElement("div",null)}}]),t}(l.Component),la=t(299),ra=t(527);function oa(e){var a,t=Object(l.useState)(""),o=Object(n.a)(t,2),c=o[0],i=o[1],m=Object(l.useState)(""),d=Object(n.a)(m,2),u=d[0],p=d[1],b=Object(l.useState)(""),v=Object(n.a)(b,2),f=v[0],g=v[1],N=Object(l.useState)(""),j=Object(n.a)(N,2),y=j[0],O=j[1],S=Object(l.useState)([]),C=Object(n.a)(S,2),x=C[0],w=C[1],k=Object(l.useState)(new Date),_=Object(n.a)(k,2),T=_[0],P=_[1],A=Object(l.useState)([]),D=Object(n.a)(A,2),I=D[0],V=D[1],R=Object(l.useState)([]),F=Object(n.a)(R,2),U=F[0],L=F[1],W=Object(l.useState)(!1),B=Object(n.a)(W,2),M=B[0],G=B[1],J=Object(l.useState)(!1),q=Object(n.a)(J,2),H=q[0],K=q[1],Q=Object(l.useState)(),X=Object(n.a)(Q,2),Y=X[0],Z=X[1],ne=Object(l.useState)([]),le=Object(n.a)(ne,2),re=le[0],oe=le[1],ce=Object(l.useState)([]),ie=Object(n.a)(ce,2),se=ie[0],me=ie[1];Object(l.useEffect)((function(){var e=new AbortController,a=e.signal;return fetch("".concat(s,"form/patient-fields"),{headers:h()},{signal:a}).then((function(e){return e.json()})).then((function(e){oe(e.familyMembers),me(e.educationLevels)})).catch(console.log),function(){return e.abort()}}),[]);return r.a.createElement("div",null,M?r.a.createElement("div",{className:"alert alert-success",role:"alert"},"Utente adicionado!"):null,H?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"N\xe3o foi poss\xedvel adicionar utente"):null,r.a.createElement("div",{className:"container w-50"},r.a.createElement("div",{className:"d-flex  m-0 p-4"},r.a.createElement("form",{className:"row w-100",onSubmit:function(a){G(!1),K(!1),a.preventDefault(),console.log(c,u,f,T,y,x,I,U);var t={name:c,email:u,address:f,date_of_birth:T,job:y,gender:x,education_level_id:I,family_members:U};console.log(JSON.stringify(t)),fetch("".concat(s,"patients"),{method:"POST",body:JSON.stringify(t),headers:h()}).then((function(e){return 201==e.status?(G(!0),K(!1)):(G(!1),K(!0)),e})).then((function(e){return e.json()})).then((function(a){"patient record created"===a.message&&e.history.push("/dashboard/patients"),console.log("API success: ",a)})).catch((function(e){return G(!1),K(!0),e})),i(""),p(""),g(""),O(""),w([]),V([]),L([])}},r.a.createElement("div",{className:"p-5 d-flex justify-content-center w-100"},r.a.createElement(z,{sectionTitle:"Novo Utente"})),r.a.createElement("div",{className:"col-md-12 form-group "},r.a.createElement("label",{className:"control-label text-brant-color"},"Nome"),r.a.createElement("div",{className:"inputGroupContainer"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"name",placeholder:"Nome",className:"form-control",value:c,onChange:function(e){return i(e.target.value)},type:"text",required:!0})))),r.a.createElement("div",{className:"col-md-12 form-group"},r.a.createElement("label",{className:"control-label text-brant-color"},"Email"),r.a.createElement("div",{className:"inputGroupContainer"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"email",placeholder:"Email",className:"form-control",value:u,onChange:function(e){return p(e.target.value)},type:"text",required:!0})))),r.a.createElement("div",{className:"col-md-12 form-group"},r.a.createElement("label",{className:"control-label text-brant-color"},"Morada"),r.a.createElement("div",{className:"inputGroupContainer"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"address",placeholder:"Morada",className:"form-control",value:f,onChange:function(e){return g(e.target.value)},type:"text",required:!0})))),r.a.createElement("div",{className:"col-md-12 form-group"},r.a.createElement("label",{className:"control-label text-brant-color"},"Profiss\xe3o"),r.a.createElement("div",{className:"inputGroupContainer"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{name:"job",placeholder:"Profiss\xe3o",className:"form-control",value:y,onChange:function(e){return O(e.target.value)},type:"text",required:!0})))),r.a.createElement("div",{className:"col-md-12 form-group"},r.a.createElement("label",{className:"control-label text-brant-color"},"Data de Nascimento"),r.a.createElement(Le.a,(a={className:"w-50",utils:Ue.default},Object(E.a)(a,"utils",Ue.default),Object(E.a)(a,"locale",ra.a),a),r.a.createElement(We.a,{className:"w-100",value:Y,maxDate:new Date,onChange:function(e){var a=e.toISOString().toString().split("T")[0];P(a),Z(e)},format:"yyyy-MM-dd"}))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement(te.a,{className:"w-100"},r.a.createElement(ee.a,{id:"in_education_level"},"Sexo"),r.a.createElement($.a,{labelId:"gender_label",id:"select_gender",value:x,onChange:function(e){return w(e.target.value)}},r.a.createElement(ae.a,{value:"1"},"Feminino"),r.a.createElement(ae.a,{value:"2"},"Masculino")))),r.a.createElement("div",{className:"col-md-12 mt-2"},r.a.createElement(te.a,{className:"w-100"},r.a.createElement(ee.a,{id:"in_education_level"},"Escolaridade"),r.a.createElement($.a,{labelId:"education_label",id:"select_education",value:I,onChange:function(e){return V(e.target.value)}},se.map((function(e){return r.a.createElement(ae.a,{key:e.id,value:e.id},e.type)}))))),r.a.createElement("div",{className:"col-sm-12 mt-2"},r.a.createElement(te.a,{className:"w-100"},r.a.createElement(ee.a,{id:"family_members_label"},"Agregado Familiar"),r.a.createElement($.a,{labelId:"family_members_label",id:"demo-mutiple-chip",multiple:!0,value:U,onChange:function(e){return L(e.target.value)},input:r.a.createElement(la.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",null,e.map((function(e){return r.a.createElement(ze.a,{key:e,label:re.find((function(a){return a.id===e})).type})})))}},re.map((function(e){return r.a.createElement(ae.a,{key:e.id,value:e.id},e.type)}))))),r.a.createElement("div",{className:"p-5 d-flex justify-content-center w-100"},r.a.createElement("input",{type:"submit",value:"Submeter",className:"btn btn-brant-color"}))))))}var ca=function(e){var a,t=e.patient,n=e.education_level;return r.a.createElement("div",null,r.a.createElement(A.a,{options:{search:!1,paging:!1,showTitle:!1,header:!1},columns:[{title:"",field:"name",cellStyle:{fontWeight:600,fontSize:14,color:"rgb(78, 36, 50)"}},{title:"",field:"data"}],data:[{name:"Nome",data:t.name},{name:"Email",data:t.email},{name:"Morada",data:t.address},{name:"Profiss\xe3o",data:t.sociodemographic_data.job},{name:"Data Nascimento",data:t.sociodemographic_data.date_of_birth},{name:"Sexo",data:(a=t.sociodemographic_data.gender,1==a?"Feminino":2==a?"Masculino":void 0)},{name:"Escolaridade",data:function(e){var a="null";return n.forEach((function(t){t.id==e&&(a=t.type)})),a}(t.sociodemographic_data.education_level_id)},{name:"Agregado Familiar",data:function(e){var a="";return e.forEach((function(t){a=t==e[0]?t.type:a+" | "+t.type})),a}(t.sociodemographic_data.family_members)}]}))};var ia=function(e){var a=e.clinicalTypes,t=e.clinicalInfo,n=e.handleSubmit,l=e.description,o=e.setDescription,c=e.clinical_info_type_id,i=e.setClinical_info_type_id;return r.a.createElement("div",null,r.a.createElement("div",{className:"col-md-12 d-flex justify-content-center"},r.a.createElement(z,{sectionTitle:"Criar nova informa\xe7\xe3o"})),r.a.createElement("form",{action:"",onSubmit:n},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("textarea",{className:"form-control form-control-sm border-brant-color m-4 w-100",rows:"4",value:l,onChange:function(e){return o(e.target.value)},placeholder:"Inserir descri\xe7\xe3o",required:!0})),r.a.createElement("div",{className:"col-md-6 d-flex justify-content-center align-self-center"},r.a.createElement(te.a,{className:"w-50"},r.a.createElement(ee.a,{id:"demo-controlled-open-select-label"},"Selecionar Tipo"),r.a.createElement($.a,{labelId:"demo-customized-select-label",id:"demo-customized-select",value:c,onChange:function(e){return i(e.target.value)}},a.map((function(e){return r.a.createElement(ae.a,{key:e.id,value:e.id},e.type)}))))),r.a.createElement("div",{className:"col-md-12 d-flex justify-content-center mb-2"},r.a.createElement("button",{type:"submit",className:"btn btn-brant-color mt-2 w-40"},"Adicionar"))))),r.a.createElement(A.a,{options:{search:!0,paging:!0,showTitle:!1,sorting:!0,header:!0,headerStyle:{fontWeight:900,fontSize:16,color:"rgb(78, 36, 50)"}},columns:[{title:"Data",field:"date",defaultSort:"desc"},{title:"Tipo",field:"clinical_info_type_id",render:function(e){if(null!=e.clinical_info_type_id)return function(e){var t="";return a.forEach((function(a){a.id==e&&(t=a.type)})),t}(e.clinical_info_type_id)}},{title:"Descri\xe7\xe3o",field:"description"}],data:t,localization:{toolbar:{searchTooltip:"Procurar",searchPlaceholder:"Procurar"},pagination:{labelRowsSelect:"linhas",labelDisplayedRows:"{count} de {from}-{to}",firstTooltip:"Primeira p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina"}}}))},sa=t(801),ma=t(805),da=t(812),ua=t(800),pa=t(804);var ba=function(e){var a=e.data;return r.a.createElement(sa.a,{theme:ma.a.material,domainPadding:15,horizontal:!0,animate:{duration:500,onLoad:{duration:100}},height:350,width:500,padding:{left:150,top:20,right:20,bottom:20}},r.a.createElement(da.a,{tickFormat:a.domain}),r.a.createElement(ua.a,{data:a,labels:function(e){var a=e.datum;return a.maxValue?a.value+"/"+a.maxValue:a.value},style:{data:{fill:"#802d3d"},labels:{fill:"#802d3d",fontSize:16}},x:"domain",y:"value",labelComponent:r.a.createElement(pa.a,{dy:0,dx:10})}))};var va=function(e){return r.a.createElement("div",null,r.a.createElement(me.a,{open:e.open,onClose:e.handleClose,fullWidth:!0,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(pe.a,{id:"alert-dialog-title"},"Data: "+e.date),r.a.createElement(ue.a,null,r.a.createElement(ba,{data:function(){var a=[];return e.assessment.results.forEach((function(t,n){var l="",r="";e.assessment.assessment_tool.modules.forEach((function(e){e.submodules.forEach((function(e){e.id===t.submodule_id&&(l=e.name,r=e.max_value)}))}));var o={domain:l,value:parseInt(t.value),maxValue:r};a.push(o)})),console.log(a),a}()})),r.a.createElement(de.a,null,r.a.createElement(se.a,{onClick:e.handleClose,color:"primary",autoFocus:!0},"Ok"))))};function fa(e){var a=r.a.useState([]),t=Object(n.a)(a,2),l=(t[0],t[1],function(){e.setOpen(!1)});return r.a.createElement("div",null,r.a.createElement(me.a,{open:e.open,onClose:l,scroll:"paper",fullWidth:!0,maxWidth:"xl","aria-labelledby":"form-dialog-title"},r.a.createElement(pe.a,{id:"form-dialog-title"},"Anexos"),r.a.createElement(ue.a,null,r.a.createElement("div",{className:"container"},e.images.length>0?e.images.map((function(e,a){return r.a.createElement("div",{key:a,className:"row p-4"},r.a.createElement("img",{className:"w-100",src:"http://localhost:8000/storage/".concat(e.path)}))})):r.a.createElement("div",null,"Sem anexos para mostrar"))),r.a.createElement(de.a,null,r.a.createElement(se.a,{onClick:l,color:"primary"},"Fechar"))))}function ha(e){var a=Object(l.useState)({id:e.id,name:e.name}),t=Object(n.a)(a,2),o=t[0],c=(t[1],Object(l.useState)(null)),i=Object(n.a)(c,2),m=i[0],d=i[1],u=Object(l.useState)(!1),p=Object(n.a)(u,2),b=p[0],v=p[1],f=Object(l.useState)(null),E=Object(n.a)(f,2),g=E[0],N=E[1],j=Object(l.useState)(!1),y=Object(n.a)(j,2),S=y[0],C=y[1],x=Object(l.useState)(!1),w=Object(n.a)(x,2),k=w[0],_=w[1],T=Object(l.useState)([]),P=Object(n.a)(T,2),D=P[0],I=P[1];Object(l.useEffect)((function(){var e=new AbortController,a=e.signal;return fetch("".concat(s,"patients/").concat(o.id,"/assessments"),{headers:h()},{signal:a}).then((function(e){return e.json()})).then((function(e){d(e),C({pathname:"/dashboard/patients/patient-new-assessment/".concat(o.id,"/").concat(o.name)}),console.log(e)})).catch(console.log),function(){return e.abort()}}),[]);return null!=m?r.a.createElement("div",{className:"p-2 "},r.a.createElement("div",{className:"d-flex justify-content-end pb-4"},!1!==S?r.a.createElement(O.b,{to:S},r.a.createElement("button",{className:"btn btn-brant-color"},"Nova avalia\xe7\xe3o")):null),r.a.createElement("div",null,r.a.createElement(A.a,{columns:[{title:"Data",field:"date",defaultSort:"desc"},{title:"Profissional de sa\xfade",field:"user.name"},{title:"Ferramenta de avalia\xe7\xe3o",field:"assessment_tool.name"}],data:m,onRowClick:function(e,a){v(!0),N(a)},actions:[{icon:"save",tooltip:"Ver Anexos",onClick:function(e,a){return _(!0),I(a.images)}}],options:{search:!1,actionsColumnIndex:-1,sorting:!0,paging:!0,showTitle:!1,header:!0,headerStyle:{fontWeight:900,fontSize:16,color:"rgb(78, 36, 50)"}},localization:{toolbar:{searchTooltip:"Procurar",searchPlaceholder:"Procurar"},pagination:{labelRowsSelect:"linhas",labelDisplayedRows:"{count} de {from}-{to}",firstTooltip:"Primeira p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina"},header:{actions:"Anexos"}}})),null!=g?r.a.createElement(va,{open:b,handleClose:function(){v(!1)},date:g.date,assessment:g}):null,k?r.a.createElement(fa,{open:k,setOpen:_,images:D}):null):r.a.createElement("div",null)}var Ea=function(e){Object(y.a)(t,e);var a=Object(j.a)(t);function t(e){var n;return Object(g.a)(this,t),(n=a.call(this,e)).state={programs:n.props.patient.training_programs},n}return Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.state.programs;a.forEach((function(a){a.patient=e.props.patient})),this.setState({programs:a})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"p-2"},r.a.createElement(oe,{data:this.state.programs,goTo:function(a){e.props.history.push("/dashboard/programs/view-detailed-program/".concat(a))}})))}}]),t}(l.Component);function ga(e){var a=Object(l.useState)(e.match.params.id),t=Object(n.a)(a,2),o=t[0],c=(t[1],Object(l.useState)([])),i=Object(n.a)(c,2),m=i[0],d=i[1],u=Object(l.useState)(null),p=Object(n.a)(u,2),b=p[0],v=p[1],f=Object(l.useState)(),E=Object(n.a)(f,2),g=E[0],N=E[1],j=Object(l.useState)(""),y=Object(n.a)(j,2),S=y[0],C=y[1],x=Object(l.useState)(0),w=Object(n.a)(x,2),k=w[0],_=w[1],P=Object(l.useState)(!1),A=Object(n.a)(P,2),D=A[0],I=A[1],V=Object(l.useState)(!1),R=Object(n.a)(V,2),F=R[0],U=R[1],L=Object(l.useState)(!1),W=Object(n.a)(L,2),B=W[0],M=W[1],G=Object(l.useState)(!1),J=Object(n.a)(G,2),q=(J[0],J[1]),H=Object(l.useState)(!1),K=Object(n.a)(H,2),Q=(K[0],K[1]),X=Object(l.useState)(parseInt(e.match.params.idTab)),Y=Object(n.a)(X,2),Z=Y[0],$=(Y[1],function(){var e=new AbortController,a=e.signal;return fetch("".concat(s,"patients/").concat(o),{headers:h()},{signal:a}).then((function(e){return e.json()})).then((function(e){v(e),M({pathname:"/dashboard/patients/new-program/".concat(o,"/").concat(e.name)}),q({pathname:"/dashboard/patients/patient-assessments/".concat(o,"/").concat(e.name)}),Q({pathname:"/dashboard/patients/patient-new-assessment/".concat(o,"/").concat(e.name)})})).catch((function(e){console.log(e)})),function(){return e.abort()}});Object(l.useEffect)((function(){!function(){var e=new AbortController,a=e.signal;fetch("".concat(s,"form/clinical-info-types"),{headers:h()},{signal:a}).then((function(e){return e.json()})).then((function(e){N(e.types)})).catch((function(e){console.log(e)}))}(),function(){var e=new AbortController,a=e.signal;fetch("".concat(s,"form/patient-fields"),{headers:h()},{signal:a}).then((function(e){return e.json()})).then((function(e){d(e.educationLevels)})).catch((function(e){console.log(e)}))}(),$()}),[]);return r.a.createElement("div",{className:" w-100"},D?r.a.createElement("div",{className:"alert alert-success",role:"alert"},"Informa\xe7\xe3o adicionada!"):null,F?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"N\xe3o foi poss\xedvel adicionar informa\xe7\xe3o"):null,r.a.createElement(Je.a,{"aria-label":"breadcrumb"},r.a.createElement(O.c,{className:"text-brant-color",to:"/dashboard/patients"},"Utentes"),r.a.createElement(qe.a,{color:"textPrimary"},"Informa\xe7\xe3o do utente")),r.a.createElement("div",{className:"row p-4 m-0"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("nav",null,r.a.createElement("div",{className:"nav nav-tabs nav-fill",id:"nav-tab",role:"tablist"},r.a.createElement("a",{className:0===Z?"nav-item nav-link text-brant-color active":"nav-item nav-link text-brant-color",id:"nav-home-tab","data-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true"},r.a.createElement(T,{sectionTitle:"Dados do utente"})),r.a.createElement("a",{className:1===Z?"nav-item nav-link text-brant-color active":"nav-item nav-link text-brant-color",id:"nav-profile-tab","data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},r.a.createElement(T,{sectionTitle:"Informa\xe7\xe3o Cl\xednica"})),r.a.createElement("a",{className:2===Z?"nav-item nav-link text-brant-color active":"nav-item nav-link text-brant-color",id:"nav-contact-tab","data-toggle":"tab",href:"#nav-contact",role:"tab","aria-controls":"nav-contact","aria-selected":"false"},r.a.createElement(T,{sectionTitle:"Perfil"})),r.a.createElement("a",{className:3===Z?"nav-item nav-link text-brant-color active":"nav-item nav-link text-brant-color",id:"nav-contact-tab","data-toggle":"tab",href:"#nav-assessments",role:"tab","aria-controls":"nav-assessments","aria-selected":"false"},r.a.createElement(T,{sectionTitle:"Avalia\xe7\xf5es"})),r.a.createElement("a",{className:4===Z?"nav-item nav-link text-brant-color active":"nav-item nav-link text-brant-color",id:"nav-contact-tab","data-toggle":"tab",href:"#nav-programs",role:"tab","aria-controls":"nav-programs","aria-selected":"false"},r.a.createElement(T,{sectionTitle:"Programas de treino"})))),r.a.createElement("div",{className:"tab-content",id:"nav-tabContent"},r.a.createElement("div",{className:0===Z?"tab-pane fade show active":"tab-pane fade show",id:"nav-home",role:"tabpanel","aria-labelledby":"nav-home-tab"},null!==b?r.a.createElement(ca,{patient:b,education_level:m}):null),r.a.createElement("div",{className:1===Z?"tab-pane fade show active":"tab-pane fade show",id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"},r.a.createElement("h1",null,null!==b&&null!==g?r.a.createElement(ia,{clinicalTypes:g,clinicalInfo:b.clinical_info,handleSubmit:function(e){e.preventDefault();var a={description:S,clinical_info_type_id:k};console.log(JSON.stringify(a)),fetch("".concat(s,"clinical-info/").concat(o),{method:"POST",body:JSON.stringify(a),headers:h()}).then((function(e){return 201==e.status?(I(!0),U(!1),$()):(I(!1),U(!0)),e})).then((function(e){return e.json()})).then((function(e){console.log("API success: ",e)})).catch((function(e){return I(!1),U(!0),e})),C(""),_(0)},description:S,setDescription:C,clinical_info_type_id:k,setClinical_info_type_id:_}):null)),r.a.createElement("div",{className:2===Z?"tab-pane fade show active":"tab-pane fade show",id:"nav-contact",role:"tabpanel","aria-labelledby":"nav-contact-tab"},r.a.createElement("h1",null,null!==b?r.a.createElement("div",null,r.a.createElement("div",{className:"col-md-8 d-flex justify-content-center"},r.a.createElement(z,{sectionTitle:"Perfil"}),r.a.createElement("div",{className:"container h-50"},r.a.createElement(ba,{data:b.cognitiveProfile})))):null)),r.a.createElement("div",{className:3===Z?"tab-pane fade show active":"tab-pane fade show",id:"nav-assessments",role:"tabpanel","aria-labelledby":"nav-assessments-tab"},r.a.createElement("h1",null,null!==b?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:""},r.a.createElement(ha,{id:o,name:b.name})))):null)),r.a.createElement("div",{className:4===Z?"tab-pane fade show active":"tab-pane fade show",id:"nav-programs",role:"tabpanel","aria-labelledby":"nav-programs-tab"},r.a.createElement("h1",null,null!==b?r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-end pb-4"},!1!==B?r.a.createElement(O.b,{to:B},r.a.createElement("button",{className:"btn btn-brant-color"},"Criar Novo Programa")):null),r.a.createElement("div",{className:""},r.a.createElement(Ea,{patient:b,history:e.history}))):null))))))}var Na=t(764),ja=t(802),ya=t(459);function Oa(e){var a=e.check,t=e.handleChange,n=e.radioSelected,l=e.handleChangeCheck,o=e.scoreTypesSession,c=e.scoreTypesGames,i=a.sessions,s=a.activities;return r.a.createElement("div",{className:"pt-4"},r.a.createElement(te.a,{component:"fieldset"},r.a.createElement(Na.a,null,r.a.createElement("div",null,r.a.createElement(F.a,{control:r.a.createElement(U.a,{color:"primary",checked:i,onChange:t,name:"sessions"}),label:"Sess\xf5es"}),i?r.a.createElement("div",{className:"pl-4"},r.a.createElement(te.a,{component:"fieldset"},r.a.createElement(ya.a,{"aria-label":"variaveis",name:"session_results",value:n,onChange:l},o.map((function(e){return r.a.createElement(F.a,{key:e.id,value:e.id+"",control:r.a.createElement(ja.a,{color:"primary"}),label:e.name})}))))):null),r.a.createElement("div",{className:"pt-4"},r.a.createElement(F.a,{control:r.a.createElement(U.a,{color:"primary",checked:s,onChange:t,name:"activities"}),label:"Actividades"}),s?r.a.createElement("div",{className:"pl-4"},r.a.createElement(te.a,{component:"fieldset"},r.a.createElement(ya.a,{"aria-label":"variaveis",name:"session_results",value:n,onChange:l},c.map((function(e){return r.a.createElement(F.a,{key:e.id,value:e.id+"",control:r.a.createElement(ja.a,{color:"primary"}),label:e.name})}))))):null))))}var Sa=t(806),Ca=t(810),xa=t(814),wa=t(803),ka=t(798);function _a(e){var a=e.dataCharts,t=e.labelScoreSelected,n={tickLabels:{fontSize:13},axisLabel:{padding:39,fontSize:13,fontStyle:"italic"}};return void 0==a.length?r.a.createElement("div",null):r.a.createElement(sa.a,{height:300,width:1e3,containerComponent:r.a.createElement(Sa.a,null),domainPadding:{x:25},padding:{top:70,bottom:50,right:100,left:100}},r.a.createElement(Ca.a,{labels:function(e){var a=e.datum;return"Sess\xe3o "+a.x+":\n valor: "+a.y+"\n Data: "+a.z},labelComponent:r.a.createElement(xa.a,{style:{fontSize:10}}),data:a},r.a.createElement(wa.a,{size:function(e){return e.active?5:3}}),r.a.createElement(ka.a,null)),r.a.createElement(da.a,{tickCount:a.length,label:"Sess\xf5es",style:n}),r.a.createElement(da.a,{dependentAxis:!0,label:t,style:n}))}function Ta(e){var a=Object(l.useState)(Object(w.g)().id),t=Object(n.a)(a,2),o=t[0],c=(t[1],Object(l.useState)(null)),i=Object(n.a)(c,2),m=i[0],d=i[1],u=Object(l.useState)([]),p=Object(n.a)(u,2),b=p[0],v=p[1],f=Object(l.useState)([]),E=Object(n.a)(f,2),g=E[0],N=E[1],j=Object(l.useState)([]),y=Object(n.a)(j,2),O=y[0],S=y[1],C=Object(l.useState)({sessions:!0,activities:!1}),x=Object(n.a)(C,2),k=x[0],_=x[1],T=k.sessions,P=k.activities,A=Object(l.useState)(100),D=Object(n.a)(A,2),I=D[0],V=D[1],R=Object(l.useState)([]),U=Object(n.a)(R,2),L=(U[0],U[1],Object(l.useState)("1")),W=Object(n.a)(L,2),B=W[0],M=W[1],G=Object(l.useState)([]),J=Object(n.a)(G,2),q=J[0],H=J[1],K=Object(l.useState)([]),Q=Object(n.a)(K,2),X=Q[0],Y=Q[1],Z=Object(l.useState)("dados"),$=Object(n.a)(Z,2),ee=$[0],ae=$[1];Object(l.useEffect)((function(){var e=new AbortController,a=e.signal;return fetch("".concat(s,"scores/training-program/").concat(o),{headers:h()},{signal:a}).then((function(e){return e.json()})).then((function(e){v(e.scoreTypeSession),N(e.scoreTypeGames),S(e.games),Y(e.scores),d(e.patient),console.log(e)})).catch(console.log),function(){return e.abort()}}),[]);return Object(l.useEffect)((function(){b.forEach((function(e){e.id==I&&ae(e.name)})),g.forEach((function(e){e.id==I&&ae(e.name)})),function(){var e=[];if(0==X.length)return void H(e);T?(X.sessionsScore.forEach((function(a,t){if(a.score_type_id==I){var n={x:t+1,y:parseInt(a.value),z:a.session.date};e.push(n)}})),H(e)):P&&(console.log(I),console.log(B),X.gameScore.forEach((function(a,t){a.forEach((function(t,n){if(void 0!=t&&t.score_type_id==I&&t.game_id==B){var l={x:t.session_id-a[0].session_id+1,y:parseInt(t.value),z:t.session.date};e.push(l)}}))})),H(e))}()}),[I,B,k]),null!=m?r.a.createElement("div",{className:"container-fluid m-0 w-100"},r.a.createElement("div",{className:"row p-2"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(z,{sectionTitle:"Utente: "+m.name}))),r.a.createElement("div",{className:"row p-0 m-0 vh-100"},r.a.createElement("div",{className:"col-md-3 shadow-sm p-3 bg-white rounded"},r.a.createElement(Oa,{check:k,handleChange:function(e){_({sessions:!T,activities:!P})},radioSelected:I,handleChangeCheck:function(e){V(e.target.value)},scoreTypesSession:b,scoreTypesGames:g})),r.a.createElement("div",{className:"col-md-9"},r.a.createElement("div",{className:T?"invisible":"row text-brant-color font-weight-bold text-uppercase d-flex justify-content-center align-items-center shadow-sm p-3 bg-white rounded mx-2"},r.a.createElement(te.a,{component:"fieldset"},r.a.createElement(ya.a,{"aria-label":"variaveis",name:"session_results",row:!0,value:B,onChange:function(e){M(e.target.value)}},O.map((function(e){return r.a.createElement(F.a,{key:e.id,disabled:T,value:e.id+"",control:r.a.createElement(ja.a,{color:"primary"}),label:e.name,labelPlacement:"top"})}))))),T&&q.length||P&&q.length>0>0?r.a.createElement(_a,{dataCharts:q,labelScoreSelected:ee}):null))):r.a.createElement("div",null)}function Pa(){var e=Object(l.useState)(null),a=Object(n.a)(e,2),t=a[0],o=a[1];return Object(l.useEffect)((function(){var e=new AbortController,a=e.signal;return fetch("".concat(s,"games"),{headers:h()},{signal:a}).then((function(e){return e.json()})).then((function(e){o(e),console.log(e)})).catch(console.log),function(){return e.abort()}}),[]),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row p-0"},r.a.createElement(z,{sectionTitle:"Lista de atividades"})),r.a.createElement("div",{className:"row p-0"},null!=t?t.map((function(e){return r.a.createElement("div",{key:e.id,className:"col-md-4 py-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title text-brant-color"},e.name),r.a.createElement("p",{className:"card-text"},e.description),e.profileByDomain.map((function(e){return r.a.createElement("span",{key:e.id,className:"mr-2"},r.a.createElement(ze.a,{size:"small",color:"primary",label:e.name}))})))))})):null))}function Aa(){var e=Object(l.useState)(null),a=Object(n.a)(e,2),t=a[0],o=a[1],c=Object(l.useState)(null),i=Object(n.a)(c,2),m=i[0],d=i[1],u=Object(l.useState)(!1),p=Object(n.a)(u,2),b=p[0],v=p[1],E=Object(l.useState)(""),g=Object(n.a)(E,2),N=g[0],j=g[1];function y(e){d(e)}Object(l.useEffect)((function(){var e=new AbortController,a=e.signal;return fetch("".concat(s,"assessment-tools"),{headers:h()},{signal:a}).then((function(e){return e.json()})).then((function(e){o(e),e.length>0&&d(e[e.length-1]),console.log(e)})).catch(console.log),function(){return e.abort()}}),[]);return null!==t&&null!==m?r.a.createElement("div",null,b?r.a.createElement(Y,{data:N,open:b,setOpen:v}):null,r.a.createElement(z,{sectionTitle:"Ferramentas de Avalia\xe7\xe3o"}),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("ul",{className:"list-group list-group-flush text-brant-color p-4"},r.a.createElement("h5",null,t.map((function(e){return null!==m&&m.id==e.id?r.a.createElement("li",{key:e.id,onClick:function(){return y(e)},className:" list-group-item list-group-item-brant-color list-group-item-action active"},e.name):r.a.createElement("li",{key:e.id,onClick:function(){return y(e)},className:" list-group-item list-group-item-brant-color list-group-item-action"},e.name)}))))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card border-brant-color mb-3 m-4"},r.a.createElement("div",{className:"card-header text-brant-color d-flex justify-content-between"},r.a.createElement("h5",null,m.name),"admin"===f().role.name?r.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(){window.confirm("Deseja eliminar esta ferramenta de avalia\xe7\xe3o?")&&fetch("".concat(s,"assessment-tools/").concat(m.id),{method:"DELETE",headers:h()}).then((function(e){return e})).then((function(e){return e.json()})).then((function(e){(console.log("API success: ",e),"success"==e.msg)?(o(t.filter((function(e){return e.id!=m.id}))),d(t[0]),j("Ferramenta de avalia\xe7\xe3o eliminada"),v(!0)):(j("Imposs\xedvel eliminar esta ferramenta de avalia\xe7\xe3o"),v(!0))})).catch((function(e){return console.log("API err: ",e),e}))}}," Eliminar Ferramenta"):null),r.a.createElement("div",{className:"card-body text-brant-color"},r.a.createElement("p",null,m.description),m.modules.map((function(e){return r.a.createElement("div",{key:e.id,className:"pb-2"},r.a.createElement("h6",{className:"card-title"},e.name),e.submodules.map((function(e){return r.a.createElement("li",{key:e.id,className:"card-text pl-4"},e.name)})))})))))))):r.a.createElement("div",null)}function Da(e){var a=Object(l.useState)({id:e.match.params.id,name:e.match.params.name}),t=Object(n.a)(a,2),o=t[0],c=(t[1],Object(l.useState)(null)),i=Object(n.a)(c,2),m=i[0],d=i[1],u=Object(l.useState)(!1),p=Object(n.a)(u,2),b=p[0],v=p[1],f=Object(l.useState)(null),E=Object(n.a)(f,2),g=E[0],N=E[1],j=Object(l.useState)(!1),y=Object(n.a)(j,2),S=y[0],C=y[1],x=Object(l.useState)(!1),w=Object(n.a)(x,2),k=w[0],_=w[1],T=Object(l.useState)([]),P=Object(n.a)(T,2),D=P[0],I=P[1];Object(l.useEffect)((function(){var e=new AbortController,a=e.signal;return fetch("".concat(s,"patients/").concat(o.id,"/assessments"),{headers:h()},{signal:a}).then((function(e){return e.json()})).then((function(e){d(e),C({pathname:"/dashboard/patients/patient-new-assessment/".concat(o.id,"/").concat(o.name)}),console.log(e)})).catch(console.log),function(){return e.abort()}}),[]);return null!=m?r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"pb-2"},r.a.createElement(Je.a,{"aria-label":"breadcrumb"},r.a.createElement(O.c,{className:"text-brant-color",to:"/dashboard/patients"},"Utentes"),r.a.createElement(qe.a,{color:"textPrimary"},"Lista de avalia\xe7\xf5es"))),r.a.createElement("div",{className:"d-flex justify-content-between pb-4"},r.a.createElement(z,{sectionTitle:"Avalia\xe7\xf5es: "+o.name}),!1!==S?r.a.createElement(O.b,{to:S},r.a.createElement("button",{className:"btn btn-brant-color"},"Nova avalia\xe7\xe3o")):null),r.a.createElement("div",null,r.a.createElement(A.a,{columns:[{title:"ID",field:"id"},{title:"Data",field:"date"},{title:"Profisional de sa\xfade",field:"user.name"},{title:"Ferramenta de avalia\xe7\xe3o",field:"assessment_tool.name"}],data:m,onRowClick:function(e,a){v(!0),N(a)},actions:[{icon:"save",tooltip:"Ver Anexos",onClick:function(e,a){return _(!0),I(a.images)}}],options:{search:!1,actionsColumnIndex:-1,sorting:!0,paging:!0,showTitle:!1,header:!0,headerStyle:{fontWeight:900,fontSize:16,color:"rgb(78, 36, 50)"}},localization:{toolbar:{searchTooltip:"Procurar",searchPlaceholder:"Procurar"},pagination:{labelRowsSelect:"linhas",labelDisplayedRows:"{count} de {from}-{to}",firstTooltip:"Primeira p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina"},header:{actions:"Anexos"}}})),null!=g?r.a.createElement(va,{open:b,handleClose:function(){v(!1)},date:g.date,assessment:g}):null,k?r.a.createElement(fa,{open:k,setOpen:_,images:D}):null):r.a.createElement("div",null)}function Ia(e){var a=Object(l.useState)({id:e.match.params.id,name:e.match.params.name}),t=Object(n.a)(a,2),o=t[0],c=(t[1],Object(l.useState)({id:null,name:null})),i=Object(n.a)(c,2),m=i[0],d=i[1],u=Object(l.useState)(null),p=Object(n.a)(u,2),b=p[0],E=p[1],g=Object(l.useState)(""),N=Object(n.a)(g,2),j=N[0],y=N[1],S=Object(l.useState)(!0),C=Object(n.a)(S,2),x=C[0],w=C[1],k=Object(l.useState)(""),_=Object(n.a)(k,2),P=_[0],A=_[1],D=Object(l.useState)([]),V=Object(n.a)(D,2),F=V[0],U=V[1],L=Object(l.useState)(""),W=Object(n.a)(L,2),B=W[0],M=W[1],G=Object(l.useState)(!1),J=Object(n.a)(G,2),q=J[0],H=J[1];Object(l.useEffect)((function(){var e=new AbortController,a=e.signal;return d({id:f().id,name:f().name}),fetch("".concat(s,"assessment-tools"),{headers:h()},{signal:a}).then((function(e){return e.json()})).then((function(e){E(e)})).catch(console.log),function(){return e.abort()}}),[]);return null!=b?r.a.createElement("div",null," ",r.a.createElement(Y,{open:q,setOpen:H,data:B}),r.a.createElement("div",{className:"pb-2"},r.a.createElement(Je.a,{"aria-label":"breadcrumb"},r.a.createElement(O.c,{className:"text-brant-color",to:"/dashboard/patients"},"Utentes"),r.a.createElement(qe.a,{color:"textPrimary"},"Nova avalia\xe7\xe3o"))),r.a.createElement(z,{sectionTitle:"Nova avalia\xe7\xe3o: "+o.name}),r.a.createElement("div",{className:"d-flex justify-content-center py-4"},r.a.createElement(T,{sectionTitle:"Selecionar a ferramenta de avalia\xe7\xe3o"}),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(te.a,{className:"w-100"},r.a.createElement(ee.a,{id:"demo-controlled-open-select-label"},"Ferramenta de avalia\xe7\xe3o"),r.a.createElement($.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:j,onChange:function(e){var a=e.target.value;a.modules.forEach((function(e,a){e.submodules.forEach((function(e,a){e.value=0}))})),y(a)}},b.map((function(e,a){return r.a.createElement(ae.a,{key:e.id,value:e},e.name)})))))),""!=j?r.a.createElement("form",{onSubmit:function(a){a.preventDefault();var t=j.id,n=o.id,l=m.id,r=j.modules,c=!1;if(j.modules.forEach((function(e){console.log(e),e.submodules.forEach((function(e){if(null!==e.min_value&&null!==e.max_value&&!c&&(parseInt(e.value)<e.min_value||parseInt(e.value)>e.max_value))return M(e.name+": valor inv\xe1lido!"),H(!0),c=!0,!1}))})),!c){var i=new FormData;F.forEach((function(e){return i.append("files[]",e)}));var d={assessment_tool_id:t,patient_id:n,user_id:l,results:r,fileData:i};i.append("data",JSON.stringify(d)),fetch("".concat(s,"assessments"),{method:"POST",headers:new Headers({Authorization:"Bearer "+v()}),body:i}).then((function(e){return 201==e.status?console.log("ok"):console.log("error"),e})).then((function(e){return e.json()})).then((function(a){console.log("API success: ",a),"success"===a.msg&&e.history.push("/dashboard/patients/patient-information/".concat(o.id,"/3"))})).catch((function(e){return console.log(e),e})),console.log("data_sent",i)}}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row d-flex justify-content-center py-4 p-0"},r.a.createElement("div",{className:"container-fluid p-0 m-0"},r.a.createElement("div",{className:"row d-flex justify-content-center"},j.modules.map((function(e,a){return r.a.createElement("div",{className:"col-md-12 px-4 mx-auto",key:e.id},r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement(T,{sectionTitle:a+1+" - "+e.name})),r.a.createElement("div",{className:"row d-flex justify-content-center"},e.submodules.map((function(e,a){return r.a.createElement("div",{key:e.id,className:"col-md-3 pb-2"},r.a.createElement(R.a,{className:"w-100",id:"outlined-basic",name:e.id+"",label:null!==e.min_value&&null!==e.max_value?e.name+" Min:"+e.min_value+" Max:"+e.max_value:e.name,value:e.value,variant:"outlined",type:"number",onChange:function(a){return function(e,a){var t=j;t.modules.forEach((function(t,n){t.submodules.forEach((function(t,n){t.id==a&&(t.value=e.target.value,console.log(t.name,t.value))}))})),w(!x),y(t),console.log(t)}(a,e.id)}}))}))))}))),r.a.createElement("div",{className:"row d-flex justify-content-center pt-2"},r.a.createElement("div",{className:"col-md-3 py-2"},r.a.createElement("input",{type:"file",name:"files[]",className:"custom-file-input",id:"customFile",lang:"pt-pt",multiple:!0,onChange:function(e){for(var a=[],t=0;t<e.target.files.length;t++)a.push(e.target.files[t]);A(a);var n=Object(I.a)(P);n.push.apply(n,Object(I.a)(e.target.files)),U(n),console.log(e.target.files)}}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Selecionar anexos"),r.a.createElement("div",{className:"container"},r.a.createElement("ul",null,""!=P?P.map((function(e,a){return r.a.createElement("li",{key:a},e.name)})):null)))),r.a.createElement("div",{className:"row p-2 m-0 d-flex justify-content-center "},r.a.createElement("button",{className:"btn btn-brant-color",type:"submit"},"Submeter")))))):null):r.a.createElement("div",null)}function Va(e){var a=Object(l.useState)([]),t=Object(n.a)(a,2),o=t[0],c=t[1];return Object(l.useEffect)((function(){var e=new AbortController,a=e.signal;return fetch("".concat(s,"users"),{headers:h()},{signal:a}).then((function(e){return e.json()})).then((function(e){c(e)})).catch(console.log),function(){return e.abort()}}),[]),r.a.createElement("div",{className:"container-fluid mt-2"},r.a.createElement("div",{className:"accordion ml-3 mr-3",id:"accordionExample"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header d-flex justify-content-between",id:"headingOne"},r.a.createElement(T,{sectionTitle:"Lista de utilizadores"}),r.a.createElement(O.b,{to:"/dashboard/register"},r.a.createElement("button",{className:"btn btn-brant-color"},"Novo utilizador"))),r.a.createElement("div",{id:"collapseOne",className:"collapse show","aria-labelledby":"headingOne","data-parent":"#accordionExample"},r.a.createElement("div",null,r.a.createElement(A.a,{options:{search:!1,paging:!0,showTitle:!1,header:!0,headerStyle:{fontWeight:900,fontSize:16,color:"rgb(78, 36, 50)"}},columns:[{title:"Nome",field:"name"},{title:"Fun\xe7\xe3o",field:"role.name"},{title:"Email",field:"email"}],data:o,localization:{pagination:{labelRowsSelect:"linhas",labelDisplayedRows:"{count} de {from}-{to}",firstTooltip:"Primeira p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina"}}}))))))}var za=function(e){var a=e.component,t=Object(i.a)(e,["component"]),n=b();return r.a.createElement(w.b,Object.assign({},t,{render:function(e){return!0===n?r.a.createElement(a,e):r.a.createElement(w.a,{to:"/auth/login"})}}))};function Ra(){return r.a.createElement(w.d,null,r.a.createElement(za,{exact:!0,path:"/dashboard/home",component:le}),r.a.createElement(za,{exact:!0,path:"/dashboard/create-patient",component:oa}),r.a.createElement(za,{exact:!0,path:"/dashboard/patients",component:D}),r.a.createElement(za,{exact:!0,path:"/dashboard/patients/patient-information/:id/:idTab",component:ga}),r.a.createElement(za,{exact:!0,path:"/dashboard/patients/new-program/:id/:name",component:Ke}),r.a.createElement(za,{exact:!0,path:"/dashboard/programs",component:Qe}),r.a.createElement(za,{exact:!0,path:"/dashboard/programs-complete",component:ce}),r.a.createElement(za,{exact:!0,path:"/dashboard/programs/view-detailed-program/:id",component:na}),r.a.createElement(za,{exact:!0,path:"/dashboard/programs-complete/view-detailed-program/:id",component:na}),r.a.createElement(za,{exact:!0,path:"/dashboard/programs/results/training-program/:id",component:Ta}),r.a.createElement(za,{exact:!0,path:"/dashboard/games",component:Pa}),r.a.createElement(za,{exact:!0,path:"/dashboard/assessment-tools",component:Aa}),r.a.createElement(za,{exact:!0,path:"/dashboard/patients/patient-assessments/:id/:name",component:Da}),r.a.createElement(za,{exact:!0,path:"/dashboard/patients/patient-new-assessment/:id/:name",component:Ia}),null!==f()&&"admin"===f().role.name?r.a.createElement(w.d,null,r.a.createElement(za,{exact:!0,path:"/dashboard/new-assessment",component:L}),r.a.createElement(za,{exact:!0,path:"/dashboard/users",component:Va}),r.a.createElement(za,{exact:!0,path:"/dashboard/register",component:ne})):null,r.a.createElement(w.b,{component:re}))}var Fa=function(e){var a=e.component,t=Object(i.a)(e,["component"]),n=b();return r.a.createElement(w.b,Object.assign({},t,{render:function(e){return!0===n?r.a.createElement(a,e):r.a.createElement(w.a,{to:"/auth/login"})}}))};var Ua=function(e){var a=Object(l.useContext)(d),t=(a.userContext,a.setUserContext);return Object(l.useEffect)((function(){t(f())}),[]),r.a.createElement(O.a,null,r.a.createElement(w.b,{exact:!0,path:"/",render:function(){return r.a.createElement(w.a,{to:"/auth/login"})}}),r.a.createElement(w.b,{exact:!0,path:"/auth/login",component:Z}),r.a.createElement("div",null,r.a.createElement("div",{className:"sidenav"},r.a.createElement("div",{className:"d-flex",id:"wrapper"},r.a.createElement(w.b,{path:"/dashboard",component:x}),r.a.createElement("div",{id:"page-content-wrapper"},r.a.createElement(w.b,{path:"/dashboard",component:k}),r.a.createElement("div",{className:"pt-2"},r.a.createElement(Fa,{path:"/dashboard",component:Ra})))))))},La=(t(738),t(739),t(741),t(742),t(743),t(744),t(783)),Wa=t(289),Ba=t(526);function Ma(e){var a=Object(l.useState)(null),t=Object(n.a)(a,2),o=t[0],c=t[1],i=Object(l.useMemo)((function(){return{userContext:o,setUserContext:c}}),[o,c]);return r.a.createElement(La.a,{theme:Ga},r.a.createElement(d.Provider,{value:i},r.a.createElement(O.a,null,r.a.createElement(Ua,null))))}var Ga=Object(Wa.a)({palette:{primary:{main:"#73374a"}}},Ba.a);c.a.render(r.a.createElement(Ma,null),document.getElementById("root"))}},[[540,1,2]]]);
//# sourceMappingURL=main.e3139e67.chunk.js.map